# π© SHOP
## μ”κµ¬μ‚¬ν•­ λ¶„μ„ λ° λ¨λΈλ§

### λ™μ‘ν™”λ©΄μΌλ΅λ¶€ν„° ν™•μΈν• κΈ°λ¥
1. νμ› κΈ°λ¥
    - νμ› κ°€μ…
        νμ› κ°€μ… μ‹, `μ΄λ¦„` `λ„μ‹` `κ±°λ¦¬` `μ°νΈλ²νΈ` λ¥Ό μ…λ ¥λ°›λ”λ‹¤.
    - νμ› λ©λ΅ μ΅°ν
        λ©λ΅μ„ ν†µν•΄ λ“±λ΅λ νμ›μ μ •λ³΄λ¥Ό λ¨λ‘ μ΅°νν•  μ μλ‹¤.
2. μƒν’ κΈ°λ¥
    - μƒν’ λ“±λ΅
        μƒν’ λ“±λ΅ μ‹ `μƒν’λ…` `κ°€κ²©` `μλ‰` `μ €μ` `ISBN`μ„ μ…λ ¥λ°›λ”λ‹¤. 
    - μƒν’ λ©λ΅ μ΅°ν
        λ©λ΅ μ΅°νλ¥Ό ν†µν•΄ `μƒν’λ…` `κ°€κ²©` `μ¬κ³ μλ‰` μ„ μ΅°νν•  μ μμΌλ©° μƒν’μ μ„Έλ¶€ λ‚΄μ©μ„ μμ •ν•  μ μλ” μμ • λ²„νΌμ΄ μλ‹¤.
    - λ„μ„ μμ •
3. μ£Όλ¬Έ κΈ°λ¥
    - μƒν’ μ£Όλ¬Έν•κΈ°
        μ£Όλ¬Έν•κΈ° κΈ°λ¥μ„ ν†µν•΄ `μ£Όλ¬Ένμ›` `μƒν’λ…` `μλ‰`μ„ μ…λ ¥ν•μ—¬ μ£Όλ¬Έν•  μ μλ‹¤.
    - μ£Όλ¬Έ λ‚΄μ—­ ν™•μΈ  
        μ£Όλ¬Έ λ‚΄μ—­μ„ ν™•μΈν•  μ μμΌλ©°, `CANCEL`μ„ ν†µν•΄ μ£Όλ¬Έμ„ μ·¨μ†ν•  μ μλ‹¤.
    - μ£Όλ¬Έ λ‚΄μ—­ κ²€μƒ‰ κΈ°λ¥
        νμ›λ…, μ£Όλ¬Έμƒνƒ λ“±μΌλ΅ κ²€μƒ‰ν•  μ μλ‹¤.


### κµ¬μ²΄μ μΈ μ”κµ¬μ‚¬ν•­
#### κΈ°λ¥ λ©λ΅
* νμ› κΈ°λ¥
    * νμ› λ“±λ΅
    * νμ› μ΅°ν
* μƒν’ κΈ°λ¥ - μƒν’μ—λ” λ„μ„, μλ°, μν™”κ°€ ν¬ν•¨λλ‹¤.
    * μƒν’ λ“±λ΅
    * μƒν’ μμ •
    * μƒν’ μ΅°ν
* μ£Όλ¬Έ κΈ°λ¥
    * μƒν’ μ£Όλ¬Έ
    * μ£Όλ¬Έ λ‚΄μ—­ μ΅°ν
    * μ£Όλ¬Έ μ·¨μ†
* κΈ°νƒ€ μ”κµ¬μ‚¬ν•­
    - μƒν’μ€ μ κ³  κ΄€λ¦¬κ°€ ν•„μ”ν•λ‹¤.
    - μƒν’μ μΆ…λ¥λ” λ„μ„, μλ°, μν™”κ°€ μλ‹¤.
    - μƒν’μ„ μΉ΄ν…κ³ λ¦¬λ΅ κµ¬λ¶„ν•  μ μλ‹¤.
    - μƒν’ μ£Όλ¬Έμ‹ λ°°μ†΅ μ •λ³΄λ¥Ό μ…λ ¥ν•  μ μλ‹¤.
* μμ λ¥Ό λ‹¨μν™” ν•κΈ° μ„ν•΄ λ‹¤μ κΈ°λ¥μ€ κµ¬ν„X  
    - λ΅κ·ΈμΈκ³Ό κ¶ν• κ΄€λ¦¬X  
    - νλΌλ―Έν„° κ²€μ¦κ³Ό μμ™Έ μ²λ¦¬X  
    - μƒν’μ€ λ„μ„λ§ μ‚¬μ©  
    - μΉ΄ν…κ³ λ¦¬λ” μ‚¬μ©X  
    - λ°°μ†΅ μ •λ³΄λ” μ‚¬μ©X  
    
#### μ• ν”λ¦¬μΌ€μ΄μ… μ•„ν‚¤ν…μ³
> κ³„μΈµν• κµ¬μ΅° μ‚¬μ©
* controller, web: μ›Ή κ³„μΈµ  
* service: λΉ„μ¦λ‹μ¤ λ΅μ§, νΈλμ­μ… μ²λ¦¬  
* repository: JPAλ¥Ό μ§μ ‘ μ‚¬μ©ν•λ” κ³„μΈµ, μ—”ν‹°ν‹° λ§¤λ‹μ € μ‚¬μ©  
* domain: μ—”ν‹°ν‹°κ°€ λ¨μ—¬ μλ” κ³„μΈµ, λ¨λ“  κ³„μΈµμ—μ„ μ‚¬μ©  

<img src="./img/domain_model.jpg" width = "400px" alt=""/>

* νμ›, μ£Όλ¬Έ, μƒν’μ κ΄€κ³„
    - νμ›μ€ μ—¬λ¬ μƒν’μ„ μ£Όλ¬Έν•  μ μλ‹¤. κ·Έλ¦¬κ³  ν•λ² μ£Όλ¬Έν•  λ• μ—¬λ¬ μƒν’μ„ μ„ νƒν•  μ μμΌλ―€λ΅ μ£Όλ¬Έκ³Ό μƒν’μ€ λ‹¤λ€ λ‹¤ κ΄€κ³„μ΄λ‹¤. ν•μ§€λ§ μ΄λ° λ‹¤λ€λ‹¤ κ΄€κ³„λ” κ΄€κ³„ν• λ°μ΄ν„°λ² μ΄μ¤λ” λ¬Όλ΅ μ΄κ³  μ—”ν‹°ν‹°μ—μ„λ„ κ±°μ μ‚¬μ©ν•μ§€ μ•κΈ° λ•λ¬Έμ— μ£Όλ¬Έμƒν’μ΄λΌλ” μ—”ν‹°ν‹°λ¥Ό μ¶”κ°€ν•΄μ„ λ‹¤λ€λ‹¤ κ΄€κ³„λ¥Ό μΌλ€ λ‹¤, λ‹¤λ€μΌ κ΄€κ³„λ΅ ν’€μ–΄λƒλ‹¤.
    - μƒν’μ€ λ„μ„, μλ°, μν™”λ΅ κµ¬λ¶„λλ”λ° μƒν’μ΄λΌλ” κ³µν†µ μ†μ„±μ„ μ‚¬μ©ν•λ―€λ΅ μƒμ† κµ¬μ΅°λ΅ ν‘ν„

<img src="./img/erd.jpg" width="400px" alt=""/>

// μ£Όλ¬Έμ„ μƒμ„±ν•  λ• νμ›μ΄ ν•„μ”ν•λ‹¤.
* νμ›(Member): μ΄λ¦„κ³Ό μ„λ² λ””λ“ νƒ€μ…μΈ μ£Όμ†( Address ), κ·Έλ¦¬κ³  μ£Όλ¬Έ( orders ) λ¦¬μ¤νΈλ¥Ό κ°€μ§„λ‹¤.
* μ£Όλ¬Έ(Order): ν• λ² μ£Όλ¬Έμ‹ μ—¬λ¬ μƒν’μ„ μ£Όλ¬Έν•  μ μμΌλ―€λ΅ μ£Όλ¬Έκ³Ό μ£Όλ¬Έμƒν’( OrderItem )μ€ μΌλ€λ‹¤ κ΄€κ³„
λ‹¤. μ£Όλ¬Έμ€ μƒν’μ„ μ£Όλ¬Έν• νμ›κ³Ό λ°°μ†΅ μ •λ³΄, μ£Όλ¬Έ λ‚ μ§, μ£Όλ¬Έ μƒνƒ( status )λ¥Ό κ°€μ§€κ³  μλ‹¤. μ£Όλ¬Έ μƒνƒλ” μ—΄
κ±°ν•μ„ μ‚¬μ©ν–λ”λ° μ£Όλ¬Έ( ORDER ), μ·¨μ†( CANCEL )μ„ ν‘ν„ν•  μ μλ‹¤.
* μ£Όλ¬Έμƒν’(OrderItem): μ£Όλ¬Έν• μƒν’ μ •λ³΄μ™€ μ£Όλ¬Έ κΈμ•΅( orderPrice ), μ£Όλ¬Έ μλ‰( count ) μ •λ³΄λ¥Ό κ°€μ§€κ³ 
μλ‹¤. (λ³΄ν†µ OrderLine , LineItem μΌλ΅ λ§μ΄ ν‘ν„ν•λ‹¤.)
* μƒν’(Item): μ΄λ¦„, κ°€κ²©, μ¬κ³ μλ‰( stockQuantity )μ„ κ°€μ§€κ³  μλ‹¤. μƒν’μ„ μ£Όλ¬Έν•λ©΄ μ¬κ³ μλ‰μ΄ μ¤„μ–΄λ“ 
λ‹¤. μƒν’μ μΆ…λ¥λ΅λ” λ„μ„, μλ°, μν™”κ°€ μλ”λ° κ°κ°μ€ μ‚¬μ©ν•λ” μ†μ„±μ΄ μ΅°κΈμ”© λ‹¤λ¥΄λ‹¤.
* λ°°μ†΅(Delivery): μ£Όλ¬Έμ‹ ν•λ‚μ λ°°μ†΅ μ •λ³΄λ¥Ό μƒμ„±ν•λ‹¤. μ£Όλ¬Έκ³Ό λ°°μ†΅μ€ μΌλ€μΌ κ΄€κ³„λ‹¤.
* μΉ΄ν…κ³ λ¦¬(Category): μƒν’κ³Ό λ‹¤λ€λ‹¤ κ΄€κ³„λ¥Ό λ§Ίλ”λ‹¤. parent , child λ΅ λ¶€λ¨, μμ‹ μΉ΄ν…κ³ λ¦¬λ¥Ό μ—°κ²°ν•
λ‹¤.
* μ£Όμ†(Address): κ°’ νƒ€μ…(μ„λ² λ””λ“ νƒ€μ…)μ΄λ‹¤. νμ›κ³Ό λ°°μ†΅(Delivery)μ—μ„ μ‚¬μ©ν•λ‹¤.

### μ—°κ΄€κ΄€κ³„ λ§¤ν•‘ λ¶„μ„
* νμ›κ³Ό μ£Όλ¬Έ: μΌλ€λ‹¤ , λ‹¤λ€μΌμ μ–‘λ°©ν–¥ κ΄€κ³„λ‹¤. λ”°λΌμ„ μ—°κ΄€κ΄€κ³„μ μ£ΌμΈμ„ μ •ν•΄μ•Ό ν•λ”λ°, `μ™Έλ ν‚¤κ°€ μλ” μ£Ό
λ¬Έμ„ μ—°κ΄€κ΄€κ³„μ μ£ΌμΈμΌλ΅ μ •ν•λ” κ²ƒμ΄ μΆ‹λ‹¤.` κ·Έλ¬λ―€λ΅ Order.member λ¥Ό ORDERS.MEMBER_ID μ™Έλ ν‚¤μ™€
λ§¤ν•‘ν•λ‹¤. μ—°κ΄€κ΄€κ³„μ μ£ΌμΈ μ½μ κ°’μ„ μ„Έν…ν•΄μ•Ό κ°’μ΄ λ³€κ²½λλ‹¤. κ±°μΈ μ½μ€ λ‹¨μν μ΅°νμ©μΌλ΅λ§ μ‚¬μ©ν•λ” κ²ƒμ΄λ‹¤.  

* μ£Όλ¬Έμƒν’κ³Ό μ£Όλ¬Έ: λ‹¤λ€μΌ μ–‘λ°©ν–¥ κ΄€κ³„λ‹¤. μ™Έλ ν‚¤κ°€ μ£Όλ¬Έμƒν’μ— μμΌλ―€λ΅ μ£Όλ¬Έμƒν’μ΄ μ—°κ΄€κ΄€κ³„μ μ£ΌμΈμ΄λ‹¤.
κ·Έλ¬λ―€λ΅ OrderItem.order λ¥Ό ORDER_ITEM.ORDER_ID μ™Έλ ν‚¤μ™€ λ§¤ν•‘ν•λ‹¤.

* μ£Όλ¬Έμƒν’κ³Ό μƒν’: λ‹¤λ€μΌ λ‹¨λ°©ν–¥ κ΄€κ³„λ‹¤. OrderItem.item μ„ ORDER_ITEM.ITEM_ID μ™Έλ ν‚¤μ™€ λ§¤ν•‘ν•
λ‹¤.

* μ£Όλ¬Έκ³Ό λ°°μ†΅: μΌλ€μΌ μ–‘λ°©ν–¥ κ΄€κ³„λ‹¤. Order.delivery λ¥Ό ORDERS.DELIVERY_ID μ™Έλ ν‚¤μ™€ λ§¤ν•‘ν•λ‹¤.
μΉ΄ν…κ³ λ¦¬μ™€ μƒν’: @ManyToMany λ¥Ό μ‚¬μ©ν•΄μ„ λ§¤ν•‘ν•λ‹¤.(μ‹¤λ¬΄μ—μ„ @ManyToManyλ” μ‚¬μ©ν•μ§€ λ§μ. μ—¬κΈ°
μ„λ” λ‹¤λ€λ‹¤ κ΄€κ³„λ¥Ό μμ λ΅ λ³΄μ—¬μ£ΌκΈ° μ„ν•΄ μ¶”κ°€ν–μ„ λΏμ΄λ‹¤)